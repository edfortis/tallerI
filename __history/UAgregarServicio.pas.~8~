unit UAgregarServicio;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, Buttons;

type
  TForm2 = class(TForm)
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    Label4: TLabel;
    Label6: TLabel;
    ETDescripcion: TEdit;
    ETPrecio: TEdit;
    ETTipo: TEdit;
    BTNGuardar: TBitBtn;
    BTNCancelar: TBitBtn;
    ETPorcetanje: TEdit;
    procedure BTNGuardarClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form2: TForm2;

implementation
    uses   UDMtintoreria,UServicio;
{$R *.dfm}

procedure TForm2.BTNGuardarClick(Sender: TObject);
var
cadena:String;

begin
  if UServicio.bandera = 0 then
  begin
    cadena := 'INSERT INTO `tintoreria`.`catalogoservicio` (`idCatalogoServicio`, `descripcion`, `precio`,`tipo`,`porcentaje`)VALUES (null,'+QuotedStr(ETDescripcion.Text)+','+IntToStr(ETPrecio.Text)+','+QuotedStr(ETTipo.Text)+','+ IntToStr(ETPorcetanje.Text)+')';
  end
  else
  begin
    cadena := 'UPDATE `tintoreria`.`catalogoservicio` SET `descripcion` = '+QuotedStr(ETDescripcion.Text)+',`precio` = '+IntToStr(ETPrecio.Text)+',`tipo` = '+QuotedStr(ETTipo.Text)+', `porcentaje` = '+IntToStr(ETPorcetanje.Text)+' WHERE `idCatalogoServicio` = ';
  end;
  DMtintoreria.QGeneral.Active:=false;
  DMtintoreria.QGeneral.SQL.Text:=cadena;
  DMtintoreria.QGeneral.ExecSQL;
  DMtintoreria.TEmpleado.Requery;
  Close;


end;

end.
